<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:context="http://www.springframework.org/schema/context"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd">

    <!-- 이름이 target인 NewlecExam 빈 등록 -->
    <bean id="target" class="spring.aop.entity.NewlecExam" p:kor="1" p:eng="1" p:math="1" p:com="1"/>
   	<!-- LogAroundAdvice 빈 등록 : 로그 기록을 담당하는 어드바이스, 핸들러이다.-->
   	<bean id="logAroundAdvice" class="spring.aop.advice.LogAroundAdvice" />
    <!-- 이름이 exam인 ProxyFactoryBean 빈 등록 -> proxy 생성 -->
    <bean id="exam" class="org.springframework.aop.framework.ProxyFactoryBean">
    	<!-- proxy는 2가지를 설정해야 한다. -->
    	<!-- 1.실제 NewlecExam객체 즉 타겟에 해당되는 클래스로더 -->
    	<!-- name="target"은 setTarget() 호출, set은 빼고 t는 소문자로 바꾼 형식을 사용한다.-->
    	<property name="target" ref="target" />
    	<!-- 2.핸들러 -->
    	<property name="interceptorNames">
    		<!-- interceptorNames:복수형 답게 리스트를 사용해 여러개 넣어줄 수 있다 -->
    		<list>
    			<!-- value에 참조하고 있는 핸들러의 이름을 넣어준다. -->
    			<value>logAroundAdvice</value>
    		</list>
    	</property>
    </bean>
</beans>
